---
editUrl: false
next: false
prev: false
title: "CSM"
---

Defined in: three/addons/csm/CSM.js:29

An implementation of Cascade Shadow Maps (CSM).

This module can only be used with WebGLRenderer. When using WebGPURenderer,
use CSMShadowNode instead.

## Constructors

### Constructor

> **new CSM**(`data`): `CSM`

Defined in: three/addons/csm/CSM.js:36

Constructs a new CSM instance.

#### Parameters

##### data

`any`

The CSM data.

#### Returns

`CSM`

## Properties

### breaks

> **breaks**: `number`[]

Defined in: three/addons/csm/CSM.js:166

An array of numbers in the range `[0,1]` the defines how the
mainCSM frustum should be split up.

***

### camera

> **camera**: `Camera`

Defined in: three/addons/csm/CSM.js:43

The scene's camera.

***

### cascades

> **cascades**: `number`

Defined in: three/addons/csm/CSM.js:58

The number of cascades.

#### Default

```ts
3
```

***

### customSplitsCallback

> **customSplitsCallback**: `Function`

Defined in: three/addons/csm/CSM.js:136

Custom split callback when using `mode='custom'`.

***

### fade

> **fade**: `boolean`

Defined in: three/addons/csm/CSM.js:144

Whether to fade between cascades or not.

#### Default

```ts
false
```

***

### frustums

> **frustums**: [`CSMFrustum`](CSMFrustum.html)[]

Defined in: three/addons/csm/CSM.js:158

An array of frustums representing the cascades.

***

### lightDirection

> **lightDirection**: `Vector3`

Defined in: three/addons/csm/CSM.js:97

The light direction.

***

### lightFar

> **lightFar**: `number`

Defined in: three/addons/csm/CSM.js:121

The light far value.

#### Default

```ts
2000
```

***

### lightIntensity

> **lightIntensity**: `number`

Defined in: three/addons/csm/CSM.js:105

The light intensity.

#### Default

```ts
3
```

***

### lightMargin

> **lightMargin**: `number`

Defined in: three/addons/csm/CSM.js:129

The light margin.

#### Default

```ts
200
```

***

### lightNear

> **lightNear**: `number`

Defined in: three/addons/csm/CSM.js:113

The light near value.

#### Default

```ts
1
```

***

### lights

> **lights**: `DirectionalLight`[]

Defined in: three/addons/csm/CSM.js:175

An array of directional lights which cast the shadows for
the different cascades. There is one directional light for each
cascade.

***

### mainFrustum

> **mainFrustum**: [`CSMFrustum`](CSMFrustum.html)

Defined in: three/addons/csm/CSM.js:151

The main frustum.

***

### maxFar

> **maxFar**: `number`

Defined in: three/addons/csm/CSM.js:66

The maximum far value.

#### Default

```ts
100000
```

***

### mode

> **mode**: `"practical"` \| `"uniform"` \| `"logarithmic"` \| `"custom"`

Defined in: three/addons/csm/CSM.js:74

The frustum split mode.

#### Default

```ts
'practical'
```

***

### parent

> **parent**: `Object3D`

Defined in: three/addons/csm/CSM.js:50

The parent object, usually the scene.

***

### shaders

> **shaders**: `Map`\<`Material`, `any`\>

Defined in: three/addons/csm/CSM.js:182

A Map holding enhanced material shaders.

***

### shadowBias

> **shadowBias**: `number`

Defined in: three/addons/csm/CSM.js:90

The shadow bias.

#### Default

```ts
0.000001
```

***

### shadowMapSize

> **shadowMapSize**: `number`

Defined in: three/addons/csm/CSM.js:82

The shadow map size.

#### Default

```ts
2048
```

## Methods

### dispose()

> **dispose**(): `void`

Defined in: three/addons/csm/CSM.js:551

Frees the GPU-related resources allocated by this instance. Call this
method whenever this instance is no longer used in your app.

#### Returns

`void`

***

### remove()

> **remove**(): `void`

Defined in: three/addons/csm/CSM.js:536

Applications must call this method when they remove the CSM usage from their scene.

#### Returns

`void`

***

### setupMaterial()

> **setupMaterial**(`material`): `void`

Defined in: three/addons/csm/CSM.js:424

Applications must call this method for all materials that should be affected by CSM.

#### Parameters

##### material

`Material`

The material to setup for CSM support.

#### Returns

`void`

***

### update()

> **update**(): `void`

Defined in: three/addons/csm/CSM.js:361

Updates the CSM. This method must be called in your animation loop before
calling `renderer.render()`.

#### Returns

`void`

***

### updateFrustums()

> **updateFrustums**(): `void`

Defined in: three/addons/csm/CSM.js:524

Applications must call this method every time they change camera or CSM settings.

#### Returns

`void`
