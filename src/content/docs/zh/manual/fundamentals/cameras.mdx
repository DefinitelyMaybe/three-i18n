---
title: æ‘„åƒæœº
sidebar:
  order: 5
---

æœ¬æ–‡æ˜¯å…³äº three.js ç³»åˆ—æ–‡ç« çš„ä¸€éƒ¨åˆ†ã€‚ç¬¬ä¸€ç¯‡æ–‡ç« æ˜¯ [three.js åŸºç¡€](fundamentals.html)ã€‚å¦‚æœä½ è¿˜æ²¡çœ‹è¿‡è€Œä¸”å¯¹three.js è¿˜ä¸ç†Ÿæ‚‰ï¼Œé‚£åº”è¯¥ä»é‚£é‡Œå¼€å§‹ï¼Œå¹¶ä¸”äº†è§£å¦‚ä½•[è®¾ç½®å¼€å‘ç¯å¢ƒ](setup.html)ã€‚ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº† three.js ä¸­çš„ [çº¹ç†](textures.html)ã€‚

æˆ‘ä»¬å¼€å§‹è°ˆè°ˆthree.jsä¸­çš„æ‘„åƒæœº. æˆ‘ä»¬å·²ç»åœ¨[ç¬¬ä¸€ç¯‡æ–‡ç« ](fundamentals.html) ä¸­æ¶‰åŠåˆ°äº†æ‘„åƒæœºçš„ä¸€äº›çŸ¥è¯†ï¼Œè¿™é‡Œæˆ‘ä»¬è¦æ›´æ·±å…¥ä¸€äº›.

åœ¨three.jsä¸­æœ€å¸¸ç”¨çš„æ‘„åƒæœºå¹¶ä¸”ä¹‹å‰æˆ‘ä»¬ä¸€ç›´ç”¨çš„æ‘„åƒæœºæ˜¯`é€è§†æ‘„åƒæœº PerspectiveCamera`ï¼Œå®ƒå¯ä»¥æä¾›ä¸€ä¸ªè¿‘å¤§è¿œå°çš„3Dè§†è§‰æ•ˆæœ.

[`PerspectiveCamera`](/api/zh/cameras/PerspectiveCamera) å®šä¹‰äº†ä¸€ä¸ª _è§†é”¥ï¼ˆfrustumï¼‰_ã€‚[_frustum_ æ˜¯ä¸€ä¸ªåˆ‡æ‰é¡¶çš„ä¸‰è§’é”¥æˆ–è€…è¯´å®å¿ƒé‡‘å­—å¡”å‹](https://en.wikipedia.org/wiki/Frustum)ã€‚
è¯´åˆ°*å®å¿ƒä½“solid*ï¼Œåœ¨è¿™é‡Œé€šå¸¸æ˜¯æŒ‡ä¸€ä¸ªç«‹æ–¹ä½“ã€ä¸€ä¸ªåœ†é”¥ã€ä¸€ä¸ªçƒã€ä¸€ä¸ªåœ†æŸ±æˆ–é”¥å°ã€‚

<div class="spread">
  <div>
    <div data-diagram="shapeCube"></div>
    <div>ç«‹æ–¹ä½“</div>
  </div>
  <div>
    <div data-diagram="shapeCone"></div>
    <div>åœ†é”¥</div>
  </div>
  <div>
    <div data-diagram="shapeSphere"></div>
    <div>çƒ</div>
  </div>
  <div>
    <div data-diagram="shapeCylinder"></div>
    <div>åœ†æŸ±</div>
  </div>
  <div>
    <div data-diagram="shapeFrustum"></div>
    <div>é”¥å°</div>
  </div>
</div>

é‡æ–°è®²ä¸€éè¿™äº›ä¸œè¥¿æ˜¯å› ä¸ºæˆ‘å¥½ä¹…æ²¡æœ‰åœ¨æ„è¿‡äº†ã€‚å¾ˆå¤šä¹¦æˆ–è€…æ–‡ç« æåˆ°*é”¥å°*è¿™ä¸ªä¸œè¥¿çš„æ—¶å€™æˆ‘æ‰«ä¸€çœ¼å°±è¿‡å»äº†ã€‚å†äº†è§£ä¸€ä¸‹ä¸åŒå‡ ä½•ä½“ä¼šè®©ä¸‹é¢çš„ä¸€äº›è¡¨è¿°å˜å¾—æ›´ä¸ºæ„Ÿæ€§...å§ğŸ˜…

[`PerspectiveCamera`](/api/zh/cameras/PerspectiveCamera)é€šè¿‡å››ä¸ªå±æ€§æ¥å®šä¹‰ä¸€ä¸ªè§†é”¥ã€‚`near`å®šä¹‰äº†è§†é”¥çš„å‰ç«¯ï¼Œ`far`å®šä¹‰äº†åç«¯ï¼Œ`fov`æ˜¯è§†é‡ï¼Œé€šè¿‡è®¡ç®—æ­£ç¡®çš„é«˜åº¦æ¥ä»æ‘„åƒæœºçš„ä½ç½®è·å¾—æŒ‡å®šçš„ä»¥`near`ä¸ºå•ä½çš„è§†é‡ï¼Œå®šä¹‰çš„æ˜¯è§†é”¥çš„å‰ç«¯å’Œåç«¯çš„é«˜åº¦ã€‚`aspect`é—´æ¥åœ°å®šä¹‰äº†è§†é”¥å‰ç«¯å’Œåç«¯çš„å®½åº¦ï¼Œå®é™…ä¸Šè§†é”¥çš„å®½åº¦æ˜¯é€šè¿‡é«˜åº¦ä¹˜ä»¥ aspect æ¥å¾—åˆ°çš„ã€‚

![image](/resources/frustum-3d.svg)

æˆ‘ä»¬å€Ÿç”¨[ä¸Šä¸€ç¯‡æ–‡ç« ](lights.html)çš„åœºæ™¯. å…¶ä¸­åŒ…å«ä¸€ä¸ªåœ°å¹³é¢ï¼Œä¸€ä¸ªçƒå’Œä¸€ä¸ªç«‹æ–¹ä½“ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­è°ƒæ•´æ‘„åƒæœºçš„è®¾ç½®ã€‚
æˆ‘ä»¬é€šè¿‡`MinMaxGUIHelper`æ¥è°ƒæ•´`near`ï¼Œ`far`çš„è®¾ç½®ã€‚æ˜¾ç„¶`near`åº”è¯¥æ€»æ˜¯æ¯”`far`è¦å°ã€‚lil-gui æœ‰`min`å’Œ`max`ä¸¤ä¸ªå±æ€§å¯è°ƒï¼Œç„¶åè¿™ä¸¤ä¸ªå±æ€§å°†å†³å®šæ‘„åƒæœºçš„è®¾ç½®ã€‚

```js
class MinMaxGUIHelper {
  constructor(obj, minProp, maxProp, minDif) {
    this.obj = obj;
    this.minProp = minProp;
    this.maxProp = maxProp;
    this.minDif = minDif;
  }
  get min() {
    return this.obj[this.minProp];
  }
  set min(v) {
    this.obj[this.minProp] = v;
    this.obj[this.maxProp] = Math.max(this.obj[this.maxProp], v + this.minDif);
  }
  get max() {
    return this.obj[this.maxProp];
  }
  set max(v) {
    this.obj[this.maxProp] = v;
    this.min = this.min; // è¿™å°†è°ƒç”¨minçš„setter
  }
}
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥å°†GUIè®¾ç½®ä¸ºï¼š

```js
function updateCamera() {
  camera.updateProjectionMatrix();
}

const gui = new GUI();
gui.add(camera, "fov", 1, 180).onChange(updateCamera);
const minMaxGUIHelper = new MinMaxGUIHelper(camera, "near", "far", 0.1);
gui
  .add(minMaxGUIHelper, "min", 0.1, 50, 0.1)
  .name("near")
  .onChange(updateCamera);
gui
  .add(minMaxGUIHelper, "max", 0.1, 50, 0.1)
  .name("far")
  .onChange(updateCamera);
```

ä»»ä½•æ—¶å€™æ‘„åƒæœºçš„è®¾ç½®å˜åŠ¨ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨æ‘„åƒæœºçš„[`updateProjectionMatrix`](/api/zh/cameras/PerspectiveCamera#updateProjectionMatrix)æ¥æ›´æ–°è®¾ç½®ã€‚æˆ‘ä»¬å†™ä¸€ä¸ªå‡½æ•°`updataCamera`ï¼Œå½“lil-guiæ”¹å˜äº†å±æ€§çš„æ—¶å€™ä¼šè°ƒç”¨å®ƒæ¥æ›´æ–°å‚æ•°ã€‚

<iframe src="/editor?url=/manual/examples/cameras-perspective.html"></iframe>

ç°åœ¨å¯ä»¥è°ƒæ•´è¿™äº›æ•°å€¼æ¥è§‚å¯Ÿè¿™äº›å‚æ•°æ˜¯å¦‚ä½•å½±å“æ‘„åƒæœºçš„ã€‚æ³¨æ„æˆ‘ä»¬å¹¶æ²¡æœ‰æ”¹å˜`aspect`ï¼Œå› ä¸ºè¿™ä¸ªå‚æ•°æ¥è‡ªäºçª—å£çš„å¤§å°. å¦‚æœæƒ³è°ƒæ•´`aspect`ï¼Œåªéœ€è¦å¼€ä¸ªæ–°çª—å£ç„¶åè°ƒæ•´çª—å£å¤§å°å°±å¯ä»¥äº†ã€‚

å³ä¾¿æ˜¯è¿™æ ·ï¼Œè§‚å¯Ÿå‚æ•°å¯¹è§†é‡çš„å½±å“è¿˜æ˜¯æŒºéº»çƒ¦çš„. æ‰€ä»¥æˆ‘ä»¬æ¥è®¾ç½®ä¸¤å°æ‘„åƒæœºå§! ä¸€å°æ˜¯è·Ÿä¸Šé¢ä¸€æ ·å±•ç°å‡ºæ‘„åƒæœºä¸­çœ‹åˆ°çš„å®é™…åœºæ™¯ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯ç”¨æ¥è§‚å¯Ÿè¿™ä¸ªå®é™…å·¥ä½œçš„æ‘„åƒæœºï¼Œç„¶åç”»å‡ºæ‘„åƒæœºçš„è§†é”¥.

æˆ‘ä»¬éœ€è¦ç”¨åˆ°three.jsçš„å‰ªå‡½æ•°(scissor function)æ¥ç”»ä¸¤ä¸ªåœºæ™¯å’Œä¸¤ä¸ªæ‘„åƒæœº.

é¦–å…ˆè®©æˆ‘ä»¬ç”¨HTMLå’ŒCSSæ¥å®šä¹‰ä¸¤ä¸ªè‚©å¹¶è‚©çš„å…ƒç´ . è¿™ä¹Ÿå°†å¸®åŠ©æˆ‘ä»¬å°†ä¸¤ä¸ªæ‘„åƒæœºèµ‹äºˆä¸åŒçš„[`OrbitControls`](/examples/controls/OrbitControls)ã€‚

```html
<body>
  <canvas id="c"></canvas>
  +
  <div class="split">
    +
    <div id="view1" tabindex="1"></div>
    +
    <div id="view2" tabindex="2"></div>
    +
  </div>
</body>
```

CSSå°†æ§åˆ¶ä¸¤ä¸ªè§†çª—å¹¶æ’æ˜¾ç¤ºåœ¨ canvas ä¸­ï¼š

```css
.split {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  display: flex;
}
.split > div {
  width: 100%;
  height: 100%;
}
```

æ¥ä¸‹æ¥å°†æ·»åŠ ä¸€ä¸ª[`CameraHelper`](/api/zh/helpers/CameraHelper), å®ƒå¯ä»¥æŠŠæ‘„åƒæœºçš„è§†é”¥ç”»å‡ºæ¥ï¼š

```js
const cameraHelper = new THREE.CameraHelper(camera);

...

scene.add(cameraHelper);
```

æˆ‘ä»¬ç°åœ¨éœ€è¦æŸ¥æ‰¾åˆ°åˆšåˆšå®šä¹‰çš„ä¸¤ä¸ªå…ƒç´ ï¼š

```js
const view1Elem = document.querySelector("#view1");
const view2Elem = document.querySelector("#view2");
```

ç°åœ¨åªç»™ç¬¬ä¸€ä¸ªè§†çª—ä¸­çš„æ‘„åƒæœºåˆ†é…[`OrbitControls`](/examples/controls/OrbitControls)ï¼š

```js
-const controls = new OrbitControls(camera, canvas);
+const controls = new OrbitControls(camera, view1Elem);
```

æˆ‘ä»¬å®šä¹‰ç¬¬äºŒä¸ª[`PerspectiveCamera`](/api/zh/cameras/PerspectiveCamera)å’Œ[`OrbitControls`](/examples/controls/OrbitControls)ï¼š

```js
const camera2 = new THREE.PerspectiveCamera(
  60, // fov
  2, // aspect
  0.1, // near
  500, // far
);
camera2.position.set(40, 10, 30);
camera2.lookAt(0, 5, 0);

const controls2 = new OrbitControls(camera2, view2Elem);
controls2.target.set(0, 5, 0);
controls2.update();
```

æœ€åï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å‰ªåˆ€åŠŸèƒ½ä»æ¯ä¸ªæ‘„å½±æœºçš„è§†è§’æ¸²æŸ“åœºæ™¯ï¼Œä»¥ä»…æ¸²æŸ“ç”»å¸ƒçš„ä¸€éƒ¨åˆ†ã€‚
è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªå…ƒç´ ï¼Œè®¡ç®—è¿™ä¸ªå…ƒç´ åœ¨canvasä¸Šçš„é‡å é¢ç§¯ï¼Œè¿™å°†è®¾ç½®å‰ªåˆ€å‡½æ•°å’Œè§†è§’é•¿å®½å¹¶è¿”å› aspect ï¼š

```js
function setScissorForElement(elem) {
  const canvasRect = canvas.getBoundingClientRect();
  const elemRect = elem.getBoundingClientRect();

  // è®¡ç®—canvasçš„å°ºå¯¸
  const right = Math.min(elemRect.right, canvasRect.right) - canvasRect.left;
  const left = Math.max(0, elemRect.left - canvasRect.left);
  const bottom = Math.min(elemRect.bottom, canvasRect.bottom) - canvasRect.top;
  const top = Math.max(0, elemRect.top - canvasRect.top);

  const width = Math.min(canvasRect.width, right - left);
  const height = Math.min(canvasRect.height, bottom - top);

  // è®¾ç½®å‰ªå‡½æ•°ä»¥ä»…æ¸²æŸ“ä¸€éƒ¨åˆ†åœºæ™¯
  const positiveYUpBottom = canvasRect.height - bottom;
  renderer.setScissor(left, positiveYUpBottom, width, height);
  renderer.setViewport(left, positiveYUpBottom, width, height);

  // è¿”å›aspect
  return width / height;
}
```

æˆ‘ä»¬ç”¨è¿™ä¸ªå‡½æ•°åœ¨`render`ä¸­ç»˜åˆ¶ä¸¤éåœºæ™¯

```js
function render() {

-    if (resizeRendererToDisplaySize(renderer)) {
-      const canvas = renderer.domElement;
-      camera.aspect = canvas.clientWidth / canvas.clientHeight;
-      camera.updateProjectionMatrix();
-    }

+    resizeRendererToDisplaySize(renderer);
+
+    // å¯ç”¨å‰ªåˆ€å‡½æ•°
+    renderer.setScissorTest(true);
+
+    // æ¸²æŸ“ä¸»è§†é‡
+    {
+      const aspect = setScissorForElement(view1Elem);
+
+      // ç”¨è®¡ç®—å‡ºçš„aspectä¿®æ”¹æ‘„åƒæœºå‚æ•°
+      camera.aspect = aspect;
+      camera.updateProjectionMatrix();
+      cameraHelper.update();
+
+      // æ¥åŸè§†é‡ä¸­ä¸è¦ç»˜åˆ¶cameraHelper
+      cameraHelper.visible = false;
+
+      scene.background.set(0x000000);
+
+      // æ¸²æŸ“
+      renderer.render(scene, camera);
+    }
+
+    // æ¸²æŸ“ç¬¬äºŒå°æ‘„åƒæœº
+    {
+      const aspect = setScissorForElement(view2Elem);
+
+      // è°ƒæ•´aspect
+      camera2.aspect = aspect;
+      camera2.updateProjectionMatrix();
+
+      // åœ¨ç¬¬äºŒå°æ‘„åƒæœºä¸­ç»˜åˆ¶cameraHelper
+      cameraHelper.visible = true;
+
+      scene.background.set(0x000040);
+
+      renderer.render(scene, camera2);
+    }

-    renderer.render(scene, camera);

requestAnimationFrame(render);
}

requestAnimationFrame(render);
}
```

ä¸Šé¢çš„ä»£ç è¿˜å°†ä¸»è¾…æ‘„åƒæœºçš„èƒŒæ™¯è‰²åŒºåˆ†å¼€ä»¥åˆ©è§‚å¯Ÿã€‚

æˆ‘ä»¬å¯ä»¥ç§»é™¤`updateCamera`äº†ï¼Œå› ä¸ºæ‰€æœ‰çš„ä¸œè¥¿åœ¨`render`ä¸­æ›´æ–°è¿‡äº†ã€‚

```js
-function updateCamera() {
-  camera.updateProjectionMatrix();
-}

const gui = new GUI();
-gui.add(camera, 'fov', 1, 180).onChange(updateCamera);
+gui.add(camera, 'fov', 1, 180);
const minMaxGUIHelper = new MinMaxGUIHelper(camera, 'near', 'far', 0.1);
-gui.add(minMaxGUIHelper, 'min', 0.1, 50, 0.1).name('near').onChange(updateCamera);
-gui.add(minMaxGUIHelper, 'max', 0.1, 50, 0.1).name('far').onChange(updateCamera);
+gui.add(minMaxGUIHelper, 'min', 0.1, 50, 0.1).name('near');
+gui.add(minMaxGUIHelper, 'max', 0.1, 50, 0.1).name('far');
```

ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥åœ¨è¾…æ‘„åƒæœºä¸­è§‚å¯Ÿåˆ°ä¸»æ‘„åƒæœºçš„è§†é”¥è½®å»“äº†ã€‚

<iframe src="/editor?url=/manual/examples/cameras-perspective-2-scenes.html"></iframe>

å·¦ä¾§å¯ä»¥çœ‹åˆ°ä¸»æ‘„åƒæœºçš„è§†è§’ï¼Œå³ä¾§åˆ™æ˜¯è¾…æ‘„åƒæœºè§‚å¯Ÿä¸»æ‘„åƒæœºå’Œä¸»æ‘„åƒæœºçš„è§†é”¥è½®å»“ã€‚å¯ä»¥è°ƒæ•´`near`ï¼Œ`far`ï¼Œ`fov`å’Œç”¨é¼ æ ‡ç§»åŠ¨æ‘„åƒæœºæ¥è§‚å¯Ÿè§†é”¥è½®å»“å’Œåœºæ™¯ä¹‹é—´çš„å…³ç³».

å°†`near`è°ƒæ•´åˆ°å¤§æ¦‚20å·¦å³ï¼Œå‰æ™¯å°±ä¼šåœ¨è§†é”¥ä¸­æ¶ˆå¤±ã€‚`far`ä½äº35æ—¶ï¼Œè¿œæ™¯ä¹Ÿä¸å¤å­˜åœ¨.

è¿™å¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¸æŠŠ`near`è®¾ç½®åˆ°0.0000000001ç„¶åå°†`far`è®¾ç½®æˆ100000000ï¼Œä½¿å¾—ä¸€åˆ‡éƒ½å¯ä»¥å°½æ”¶çœ¼åº•? åŸå› æ˜¯ä½ çš„GPUæ²¡æœ‰è¶³å¤Ÿçš„ç²¾åº¦æ¥å†³å®šæŸä¸ªä¸œè¥¿æ˜¯å¦ä¸€ä¸ªä¸œè¥¿çš„å‰é¢è¿˜æ˜¯åé¢ã€‚æ›´ç³Ÿçš„æ˜¯ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œç¦»æ‘„åƒæœºè¿‘çš„å°†ä¼šæ›´æ¸…æ™°ï¼Œç¦»æ‘„åƒæœºè¿œçš„æ¨¡ç³Šï¼Œä»`near`åˆ°`far`é€æ¸è¿‡æ¸¡ã€‚

ä»ä¸Šé¢çš„ä¾‹å­å‡ºå‘ï¼Œæˆ‘ä»¬å‘åœºæ™¯ä¸­æ·»åŠ 20ä¸ªçƒï¼š

```js
{
  const sphereRadius = 3;
  const sphereWidthDivisions = 32;
  const sphereHeightDivisions = 16;
  const sphereGeo = new THREE.SphereGeometry(
    sphereRadius,
    sphereWidthDivisions,
    sphereHeightDivisions,
  );
  const numSpheres = 20;
  for (let i = 0; i < numSpheres; ++i) {
    const sphereMat = new THREE.MeshPhongMaterial();
    sphereMat.color.setHSL(i * 0.73, 1, 0.5);
    const mesh = new THREE.Mesh(sphereGeo, sphereMat);
    mesh.position.set(
      -sphereRadius - 1,
      sphereRadius + 2,
      i * sphereRadius * -2.2,
    );
    scene.add(mesh);
  }
}
```

æŠŠ `near` è®¾ç½®æˆ0.00001

```js
const fov = 45;
const aspect = 2;  // canvas é»˜è®¤
-const near = 0.1;
+const near = 0.00001;
const far = 100;
const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
```

è°ƒæ•´ä¸€ä¸‹GUIä½¿å¾—èƒ½è®¾ç½®åˆ°0.00001

```js
-gui
  .add(minMaxGUIHelper, "min", 0.1, 50, 0.1)
  .name("near")
  .onChange(updateCamera);
+gui
  .add(minMaxGUIHelper, "min", 0.00001, 50, 0.00001)
  .name("near")
  .onChange(updateCamera);
```

ä½ è§‰å¾—ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

<iframe src="/editor?url=/manual/examples/cameras-z-fighting.html"></iframe>

è¿™å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„*zå†²çª*çš„ä¾‹å­ã€‚GPUæ²¡æœ‰è¶³å¤Ÿçš„ç²¾åº¦æ¥å†³å®šå“ªä¸ªåƒç´ åœ¨å‰å“ªä¸ªåœ¨åã€‚

å¦‚æœä½ çš„æœºå™¨å¤ªå¥½å¯èƒ½ä¸ä¼šå‡ºç°æˆ‘è¯´çš„æƒ…å†µï¼Œæˆ‘æŠŠæˆ‘çœ‹åˆ°çš„æˆªå›¾æ”¾åœ¨è¿™ï¼š

<div class="threejs_center">![image](/resources/images/z-fighting.png)</div>

è§£å†³çš„æ–¹æ³•ä¹‹ä¸€æ˜¯å‘Šè¯‰three.jsä½¿ç”¨ä¸åŒçš„æ–¹æ³•è®¡ç®—åƒç´ çš„å‰åå…³ç³»ã€‚æˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»º[`WebGLRenderer`](/api/zh/renderers/WebGLRenderer)æ—¶å¼€å¯`logarithmicDepthBuffer`ã€‚

```js
-const renderer = new THREE.WebGLRenderer({antialias: true, canvas});
+const renderer = new THREE.WebGLRenderer({
+  antialias: true,
+  canvas,
+  logarithmicDepthBuffer: true,
+});
```

è¿™çœ‹èµ·æ¥å°±è¡Œäº†

<iframe src="/editor?url=/manual/examples/cameras-logarithmic-depth-buffer.html"></iframe>

å¦‚æœä¸Šé¢çš„æ–¹æ¡ˆä¸è¡Œçš„è¯ï¼Œé‚£ä½ å°±é‡åˆ°äº†*ä¸ºä»€ä¹ˆä¸èƒ½æ— è„‘ä½¿ç”¨è¿™ç§è§£å†³æ–¹æ¡ˆ*çš„æƒ…å†µäº†ã€‚æˆªæ­¢2018å¹´9æœˆï¼Œç»å¤§å¤šæ•°å°å¼æœºå¯ä»¥ï¼Œä½†å‡ ä¹æ²¡æœ‰ç§»åŠ¨è®¾å¤‡æ”¯æŒè¿™ä¸ªåŠŸèƒ½ã€‚

å¦å¤–ï¼Œæœ€å¥½åˆ«ç”¨è¿™ç§è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºè¿™ä¼šå¤§å¤§é™ä½è¿è¡Œé€Ÿåº¦ã€‚

å³ä¾¿æ˜¯ç°åœ¨è·‘å¾—å¥½å¥½åœ°ï¼Œé€‰æ‹©å¤ªå°çš„`near`å’Œå¤ªå¤§çš„`far`æœ€ç»ˆä¹Ÿä¼šé‡åˆ°åŒæ ·çš„é—®é¢˜ã€‚

æ‰€ä»¥è¯´ä½ éœ€è¦é€‰æ‹©å¥½å¥½æŠ‰æ‹©`near`å’Œ`far`çš„è®¾ç½®ï¼Œæ¥å’Œä½ çš„åœºæ™¯é…åˆã€‚æ—¢ä¸ä¸¢å¤±é‡è¦çš„è¿‘æ™¯ï¼Œä¹Ÿä¸è®©è¿œå¤„çš„ä¸œè¥¿æ¶ˆå¤±ä¸è§ã€‚å¦‚æœä½ æƒ³æ¸²æŸ“ä¸€ä¸ªå·¨å¤§çš„åœºæ™¯ï¼Œä¸ä½†èƒ½çœ‹æ¸…é¢å‰çš„äººçš„çœ¼ç«æ¯›åˆæƒ³çœ‹åˆ°50å…¬é‡Œä»¥å¤–çš„ç©æ„ï¼Œä½ å¾—è‡ªå·±æƒ³ä¸€ä¸ª*å‰å®³çš„*æ–¹æ¡ˆï¼Œè¿™é‡Œå°±ä¸æ¶‰åŠäº†ã€‚ç°åœ¨ï¼Œå¥½å¥½åœ°é€‰ä¸ªé€‚åˆçš„å‚æ•°å°±è¡Œã€‚

ç¬¬äºŒç§å¸¸è§çš„æ‘„åƒæœºæ˜¯`æ­£äº¤æ‘„åƒæœº OrthographicCamera`ï¼Œå’ŒæŒ‡å®šä¸€ä¸ªè§†é”¥ä¸åŒçš„æ˜¯ï¼Œå®ƒéœ€è¦è®¾ç½®`left`ï¼Œ`right`
`top`ï¼Œ`bottom`ï¼Œ`near`ï¼Œå’Œ`far`æŒ‡å®šä¸€ä¸ªé•¿æ–¹ä½“ï¼Œä½¿å¾—è§†é‡æ˜¯å¹³è¡Œçš„è€Œä¸æ˜¯é€è§†çš„ã€‚

æˆ‘ä»¬æ¥æŠŠä¸Šé¢çš„ä¾‹å­æ”¹æˆ[`OrthographicCamera`](/api/zh/cameras/OrthographicCamera), é¦–å…ˆæ¥è®¾ç½®æ‘„åƒæœº

```js
const left = -1;
const right = 1;
const top = 1;
const bottom = -1;
const near = 5;
const far = 50;
const camera = new THREE.OrthographicCamera(
  left,
  right,
  top,
  bottom,
  near,
  far,
);
camera.zoom = 0.2;
```

æˆ‘ä»¬å°†`left`å’Œ`bottom`è®¾ç½®æˆ -1 `right` å’Œ `top`è®¾æˆ 1ï¼Œè¿™æ ·å°±ä½¿ç›’å­å®½ä¸ºä¸¤ä¸ªå•ä½ï¼Œé«˜ä¸¤ä¸ªå•ä½ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥é€šè¿‡è°ƒæ•´`left`å’Œ`top`æ¥é€‰æ‹©å…¶ aspect ã€‚æˆ‘ä»¬å°†ç”¨`zoom`å±æ€§æ¥è°ƒæ•´ç›¸æœºåˆ°åº•å±•ç°å¤šå°‘çš„å•ä½å¤§å°ã€‚

ç»™GUIæ·»åŠ `zoom`è®¾ç½®ï¼š

```js
const gui = new GUI();
+gui.add(camera, "zoom", 0.01, 1, 0.01).listen();
```

`listen`è°ƒç”¨å‘Šè¯‰lil-guiå»ç›‘è§†å±æ€§çš„å˜åŒ–ã€‚å†™åœ¨è¿™é‡Œæ˜¯å› ä¸º[`OrbitControls`](/examples/controls/OrbitControls)åŒæ ·å¯ä»¥æ§åˆ¶ç¼©æ”¾ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé¼ æ ‡æ»šè½®å°†ä¼šé€šè¿‡[`OrbitControls`](/examples/controls/OrbitControls)æ§ä»¶æ¥æ§åˆ¶ç¼©æ”¾ã€‚

æœ€åæ›´æ”¹aspectç„¶åæ›´æ–°æ‘„åƒæœºï¼š

```js
{
const aspect = setScissorForElement(view1Elem);

// ä½¿ç”¨aspectæ›´æ–°æ‘„åƒæœº
-  camera.aspect = aspect;
+  camera.left   = -aspect;
+  camera.right  =  aspect;
camera.updateProjectionMatrix();
cameraHelper.update();

// åœ¨ä¸»æ‘„åƒæœºä¸­ä¸ç»˜åˆ¶è§†é‡è¾…åŠ©çº¿
cameraHelper.visible = false;

scene.background.set(0x000000);
renderer.render(scene, camera);
}
```

ç°åœ¨å°±å¯ä»¥çœ‹åˆ°[`OrthographicCamera`](/api/zh/cameras/OrthographicCamera)å·¥ä½œäº†ã€‚

<iframe src="/editor?url=/manual/examples/cameras-orthographic-2-scenes.html"></iframe>

å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç»˜åˆ¶2Då›¾åƒçš„æ—¶å€™ä¼šç”¨åˆ°[`OrthographicCamera`](/api/zh/cameras/OrthographicCamera)ã€‚ä½ å¯ä»¥è‡ªå·±å†³å®šæ‘„åƒæœºçš„è§†é‡å¤§å°ã€‚æ¯”å¦‚è¯´ä½ æƒ³è®© canvas çš„ä¸€ä¸ªåƒç´ åŒ¹é…æ‘„åƒæœºçš„ä¸€ä¸ªå•ä½ï¼Œä½ å¯ä»¥è¿™ä¹ˆåšï¼š

å°†åŸç‚¹ç½®äºä¸­å¿ƒï¼Œä»¤ä¸€ä¸ªåƒç´ ç­‰äºä¸€ä¸ªå•ä½

```js
camera.left = -canvas.width / 2;
camera.right = canvas.width / 2;
camera.top = canvas.height / 2;
camera.bottom = -canvas.height / 2;
camera.near = -1;
camera.far = 1;
camera.zoom = 1;
```

æˆ–è€…å¦‚æœæˆ‘ä»¬æƒ³è®©åŸç‚¹åœ¨å·¦ä¸Šï¼Œå°±åƒæ˜¯2D canvas

```js
camera.left = 0;
camera.right = canvas.width;
camera.top = 0;
camera.bottom = canvas.height;
camera.near = -1;
camera.far = 1;
camera.zoom = 1;
```

è¿™æ ·å·¦ä¸Šè§’å°±æˆäº†0,0

è¯•è¯•ï¼Œè¿™æ ·è®¾ç½®æ‘„åƒæœº

```js
const left = 0;
const right = 300; // é»˜è®¤çš„canvaså¤§å°
const top = 0;
const bottom = 150; // é»˜è®¤çš„canvaså¤§å°
const near = -1;
const far = 1;
const camera = new THREE.OrthographicCamera(
  left,
  right,
  top,
  bottom,
  near,
  far,
);
camera.zoom = 1;
```

ç„¶åæˆ‘ä»¬è½½å…¥å…­ä¸ªæè´¨ï¼Œç”Ÿæˆå…­ä¸ªå¹³é¢ï¼Œä¸€ä¸€å¯¹åº”ã€‚æŠŠæ¯ä¸€ä¸ªå¹³é¢ç»‘å®šåˆ°çˆ¶å¯¹è±¡[`THREE.Object3D`](/api/zh/core/Object3D)ä¸Šï¼Œä»¥ä¾¿è°ƒæ•´æ¯ä¸ªå¹³é¢å’Œå·¦ä¸Šè§’åŸç‚¹çš„ç›¸å¯¹å…³ç³»

```js
const loader = new THREE.TextureLoader();
const textures = [
  loader.load("resources/images/flower-1.jpg"),
  loader.load("resources/images/flower-2.jpg"),
  loader.load("resources/images/flower-3.jpg"),
  loader.load("resources/images/flower-4.jpg"),
  loader.load("resources/images/flower-5.jpg"),
  loader.load("resources/images/flower-6.jpg"),
];
const planeSize = 256;
const planeGeo = new THREE.PlaneGeometry(planeSize, planeSize);
const planes = textures.map((texture) => {
  const planePivot = new THREE.Object3D();
  scene.add(planePivot);
  texture.magFilter = THREE.NearestFilter;
  const planeMat = new THREE.MeshBasicMaterial({
    map: texture,
    side: THREE.DoubleSide,
  });
  const mesh = new THREE.Mesh(planeGeo, planeMat);
  planePivot.add(mesh);
  // è°ƒæ•´å¹³é¢ä½¿å¾—å·¦ä¸Šè§’ä¸ºåŸç‚¹
  mesh.position.set(planeSize / 2, planeSize / 2, 0);
  return planePivot;
});
```

ç„¶åå½“ canvas æ›´æ–°åæˆ‘ä»¬æ›´æ–°æ‘„åƒæœºè®¾ç½®

```js
function render() {

if (resizeRendererToDisplaySize(renderer)) {
camera.right = canvas.width;
camera.bottom = canvas.height;
camera.updateProjectionMatrix();
}

...
```

`planes`æ˜¯[`THREE.Mesh`](/api/zh/objects/Mesh)çš„æ•°ç»„ï¼Œæ¯ä¸€ä¸ªå¯¹åº”ä¸€ä¸ªå¹³é¢ã€‚
ç°åœ¨è®©å®ƒéšç€æ—¶é—´ç§»åŠ¨

```js
function render(time) {
time *= 0.001;  // è½¬æ¢ä¸ºç§’;

...

const distAcross = Math.max(20, canvas.width - planeSize);
const distDown = Math.max(20, canvas.height - planeSize);

// æ¥å›è¿åŠ¨çš„æ€»è·ç¦»
const xRange = distAcross * 2;
const yRange = distDown * 2;
const speed = 180;

planes.forEach((plane, ndx) => {
// ä¸ºæ¯ä¸ªå¹³é¢å•ç‹¬è®¡ç®—æ—¶é—´
const t = time * speed + ndx * 300;

// åœ¨0åˆ°æœ€è¿œè·ç¦»ä¹‹é—´è·å–ä¸€ä¸ªå€¼
const xt = t % xRange;
const yt = t % yRange;

// 0åˆ°è·ç¦»çš„ä¸€åŠ, å‘å‰è¿åŠ¨
// å¦ä¸€åŠçš„æ—¶å€™å¾€å›è¿åŠ¨
const x = xt < distAcross ? xt : xRange - xt;
const y = yt < distDown   ? yt : yRange - yt;

plane.position.set(x, y, 0);
});

renderer.render(scene, camera);
```

ä½ å¯ä»¥çœ‹åˆ°å›¾ç‰‡åœ¨å…¶ä¸­å¼¹è·³ï¼Œå’Œè¾¹é™…å®Œç¾å¥‘åˆï¼Œå°±æ˜¯2D canvasçš„æ•ˆæœä¸€æ ·

<iframe src="/editor?url=/manual/examples/cameras-orthographic-canvas-top-left-origin.html"></iframe>

å¦ä¸€ä¸ªå¸¸è§çš„ç”¨é€”æ˜¯ç”¨[`OrthographicCamera`](/api/zh/cameras/OrthographicCamera)æ¥å±•ç¤ºæ¨¡å‹çš„ä¸‰è§†å›¾ã€‚

<div class="threejs_center">![image](/resources/images/quad-viewport.png)</div>

ä¸Šé¢çš„æˆªå›¾å±•ç¤ºäº†ä¸€ä¸ªé€è§†å›¾å’Œä¸‰ä¸ªæ­£äº¤è§†è§’ã€‚

è¿™å°±æ˜¯æ‘„åƒæœºçš„åŸºç¡€. æˆ‘ä»¬åœ¨å…¶ä»–çš„æ–‡ç« ä¸­ä¼šä»‹ç»å¦å¤–çš„ä¸€äº›æ‘„åƒæœºç”¨æ³•ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬ç§»æ­¥åˆ°[é˜´å½±](shadows.html)ã€‚

<canvas id="c"></canvas>

<span>Script:src="../resources/threejs-cameras.js"</span>
