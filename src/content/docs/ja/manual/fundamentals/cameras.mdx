---
title: ã‚«ãƒ¡ãƒ©
sidebar:
  order: 5
---

ã“ã®è¨˜äº‹ã¯Three.jsã®é€£è¼‰è¨˜äº‹ã®1ã¤ã§ã™ã€‚
æœ€åˆã®è¨˜äº‹ã¯[Three.jsã®åŸºç¤çŸ¥è­˜](fundamentals.html)ã§ã™ã€‚
ã¾ã èª­ã‚“ã§ã„ãªã„å ´åˆã€ãã“ã‹ã‚‰å§‹ã‚ã‚‹ã¨è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

three.jsã§ã®ã‚«ãƒ¡ãƒ©ã®è©±ã‚’ã—ã¾ã—ã‚‡ã†ã€‚
[æœ€åˆã®è¨˜äº‹](fundamentals.html)ã§ã„ãã¤ã‹å–ã‚Šä¸Šã’ã¾ã—ãŸãŒã€ã“ã“ã§ã¯ã‚‚ã£ã¨è©³ã—ãå–ã‚Šä¸Šã’ã¾ã™ã€‚

`PerspectiveCameraï¼ˆé€è¦–æŠ•å½±ã‚«ãƒ¡ãƒ©ï¼‰` ã¯three.jsã§æœ€ã‚‚ä¸€èˆ¬çš„ãªã‚«ãƒ¡ãƒ©ã§ã€ä»Šã¾ã§ã®è¨˜äº‹ã§ä½¿ã£ã¦ãã¾ã—ãŸã€‚
é ãã®ã‚‚ã®ãŒè¿‘ãã®ã‚‚ã®ã‚ˆã‚Šã‚‚å°ã•ãè¦‹ãˆã‚‹3Dãƒ“ãƒ¥ãƒ¼ã‚’æä¾›ã—ã¾ã™ã€‚

[`PerspectiveCamera`](/api/ja/cameras/PerspectiveCamera) ã¯ _éŒå°_ ã‚’å®šç¾©ã—ã¾ã™ã€‚
[éŒå°ã¨ã¯å…ˆç«¯ãŒåˆ‡ã‚Šå–ã‚‰ã‚ŒãŸãƒ”ãƒ©ãƒŸãƒƒãƒ‰ã®ã‚ˆã†ãª3Då½¢çŠ¶ã®äº‹ã§ã™](https://en.wikipedia.org/wiki/Frustum)ã€‚
ã¤ã¾ã‚Šã€cube(ç«‹æ–¹ä½“)ã€cone(å††éŒä½“)ã€sphere(çƒä½“)ã€cylinder(å††æŸ±)ã€frustum(éŒå°)ã¯å…¨ã¦ç•°ãªã‚‹ç¨®é¡ã®å›ºä½“åã§ã™ã€‚

<div class="spread">
  <div>
    <div data-diagram="shapeCube"></div>
    <div>cube</div>
  </div>
  <div>
    <div data-diagram="shapeCone"></div>
    <div>cone</div>
  </div>
  <div>
    <div data-diagram="shapeSphere"></div>
    <div>sphere</div>
  </div>
  <div>
    <div data-diagram="shapeCylinder"></div>
    <div>cylinder</div>
  </div>
  <div>
    <div data-diagram="shapeFrustum"></div>
    <div>frustum</div>
  </div>
</div>

ç§ã¯ã“ã®äº‹ã‚’ä½•å¹´ã‚‚çŸ¥ã‚‰ãªã‹ã£ãŸã§ã™ã€‚
ã©ã“ã‹ã®æœ¬ã‚„ãƒšãƒ¼ã‚¸ã§ _éŒå°_ ã«ã¤ã„ã¦æ›¸ã‹ã‚Œã¦ã„ã‚‹ã¨ç›®ãŒç‚¹ã«ãªã‚Šã¾ã™ã€‚
éŒå°ãŒå›ºä½“åã¨ç†è§£ã™ã‚‹ã¨ã€ãã‚Œã‚‰ã®è¨˜è¿°ã‚’æ€¥ã«ç†è§£ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ ğŸ˜…

[`PerspectiveCamera`](/api/ja/cameras/PerspectiveCamera) ã«ã¯4ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚‚ã¨ã«éŒå°ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
`near` ã¯éŒå°ã®æ­£é¢ãŒã©ã“ã‹ã‚‰å§‹ã¾ã‚‹ã‹ã‚’å®šç¾©ã—ã¾ã™ã€‚
`far` ã¯éŒå°ãŒçµ‚äº†ã™ã‚‹å ´æ‰€ã§ã™ã€‚
`fov` ã¯è¦–é‡è§’ã§ã€ã‚«ãƒ¡ãƒ©ã‹ã‚‰ `near` å˜ä½ã§æŒ‡å®šã•ã‚ŒãŸè¦–é‡è§’ã‚’å¾—ã‚‹ãŸã‚ã«æ­£ã—ã„é«˜ã•ãŒè¨ˆç®—ã•ã‚Œã€éŒå°ã®å‰é¢ã¨èƒŒé¢ã®é«˜ã•ã‚’å®šç¾©ã—ã¾ã™ã€‚
`aspect` ã¯éŒå°ã®å‰é¢ã¨èƒŒé¢ã®å¹…ã§ã™ã€‚
éŒå°ã®å¹…ã¯é«˜ã•ã«aspectã‚’æ›ã‘ãŸã‚‚ã®ã§ã™ã€‚

![image](/resources/frustum-3d.svg)

[å‰å›ã®è¨˜äº‹](lights.html)ã‹ã‚‰åœ°é¢ã¨ãªã‚‹å¹³é¢ã€çƒä½“ã€ç«‹æ–¹ä½“ã®ã‚ã‚‹ã‚·ãƒ¼ãƒ³ã‚’åˆ©ç”¨ã—ã€ã‚«ãƒ¡ãƒ©ã®è¨­å®šã‚’èª¿æ•´ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

`near` ã¨ `far` ã®è¨­å®šç”¨ã« `MinMaxGUIHelper` ã‚’ä½œæˆã—ã¾ã™ã€‚
`far` ãŒå¸¸ã« `near` ã‚ˆã‚Šã‚‚å¤§ãã„å€¤ã«ãªã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
MinMaxGUIHelperã¯ `min` ã¨ `max` ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚Šã€lil-guiã§èª¿æ•´ã—ã¾ã™ã€‚
GUIã§å€¤ã‚’èª¿æ•´ã™ã‚‹ã¨2ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«è¨­å®šã•ã‚Œã¾ã™ã€‚

```js
class MinMaxGUIHelper {
  constructor(obj, minProp, maxProp, minDif) {
    this.obj = obj;
    this.minProp = minProp;
    this.maxProp = maxProp;
    this.minDif = minDif;
  }
  get min() {
    return this.obj[this.minProp];
  }
  set min(v) {
    this.obj[this.minProp] = v;
    this.obj[this.maxProp] = Math.max(this.obj[this.maxProp], v + this.minDif);
  }
  get max() {
    return this.obj[this.maxProp];
  }
  set max(v) {
    this.obj[this.maxProp] = v;
    this.min = this.min; // this will call the min setter
  }
}
```

ã“ã‚Œã§GUIã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã§ãã¾ã™ã€‚

```js
function updateCamera() {
  camera.updateProjectionMatrix();
}

const gui = new GUI();
gui.add(camera, "fov", 1, 180).onChange(updateCamera);
const minMaxGUIHelper = new MinMaxGUIHelper(camera, "near", "far", 0.1);
gui
  .add(minMaxGUIHelper, "min", 0.1, 50, 0.1)
  .name("near")
  .onChange(updateCamera);
gui
  .add(minMaxGUIHelper, "max", 0.1, 50, 0.1)
  .name("far")
  .onChange(updateCamera);
```

ã‚«ãƒ¡ãƒ©è¨­å®šã®å¤‰æ›´æ™‚ã€ã‚«ãƒ¡ãƒ©ã® [`updateProjectionMatrix`](/api/ja/cameras/PerspectiveCamera#updateProjectionMatrix) é–¢æ•°ã‚’å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
`updateCamera` ã¨ã„ã†é–¢æ•°ã‚’ä½œã‚Šã€ãã‚Œã‚’lil-guiå¤‰æ›´æ™‚ã«å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ã¾ã™ã€‚

<iframe src="/editor?url=/manual/examples/cameras-perspective.html"></iframe>

å€¤ã‚’èª¿æ•´ã™ã‚‹ã¨å‹•ä½œãŒç¢ºèªã§ãã¾ã™ã€‚
`aspect` ã‚’èª¿æ•´ã—ãŸã„å ´åˆã¯ã€æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã‚µãƒ³ãƒ—ãƒ«ã‚’é–‹ã„ã¦ã‹ã‚‰ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã—ã¦ä¸‹ã•ã„ã€‚

ãã‚Œã§ã‚‚ã¾ã å°‘ã—è¦‹ã¥ã‚‰ã„ã®ã§ã€2ã¤ã®ã‚«ãƒ¡ãƒ©ã‚’æŒã¤ã‚µãƒ³ãƒ—ãƒ«ã«å¤‰ãˆã¾ã™ã€‚
1ã¤ç›®ã®ã‚«ãƒ¡ãƒ©ã¯ä¸Šè¨˜ã§è¦‹ãŸã‚·ãƒ¼ãƒ³ã‚’è¡¨ç¤ºã—ã€2ã¤ç›®ã®ã‚«ãƒ¡ãƒ©ã¯1ã¤ç›®ã®ã‚«ãƒ¡ãƒ©ãŒæç”»ã—ã¦ã‚‹ã‚·ãƒ¼ãƒ³ã‚’è¦‹ã¦ã„ã‚‹åˆ¥ã®ã‚«ãƒ¡ãƒ©ã¨ã—ã€ãã®ã‚«ãƒ¡ãƒ©ã®éŒå°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

ãã®ãŸã‚ã«three.jsã®ã‚·ã‚¶ãƒ¼é–¢æ•°ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚
ã‚·ã‚¶ãƒ¼æ©Ÿèƒ½ã‚’ä½¿ã„ã€ã‚«ãƒ¡ãƒ©ã‚’2å°ä¸¦ã¹ã¦2ã¤ã®ã‚·ãƒ¼ãƒ³ã‚’æç”»ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

ã¾ãšã€HTMLã¨CSSã‚’ä½¿ã£ã¦2ã¤ã®ä¸¦ã‚“ã§ã‚‹DOMè¦ç´ ã‚’å®šç¾©ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
ä¸¡æ–¹ã®ã‚«ãƒ¡ãƒ©ãŒç°¡å˜ã«ç‹¬è‡ªã® [`OrbitControls`](/examples/controls/OrbitControls) ã‚’æŒã¦ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```html
<body>
  <canvas id="c"></canvas>
  +
  <div class="split">
    +
    <div id="view1" tabindex="1"></div>
    +
    <div id="view2" tabindex="2"></div>
    +
  </div>
</body>
```

ã“ã®view1ã¨view2ã‚’ã‚­ãƒ£ãƒ³ãƒã‚¹ã®ä¸Šã«é‡ã­ã¦è¡¨ç¤ºã•ã›ã¾ã™ã€‚

```css
.split {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  display: flex;
}
.split > div {
  width: 100%;
  height: 100%;
}
```

æ¬¡ã« [`CameraHelper`](/api/ja/helpers/CameraHelper) ã‚’è¿½åŠ ã—ã¾ã™ã€‚
[`CameraHelper`](/api/ja/helpers/CameraHelper) ã¯ [`Camera`](/api/ja/cameras/Camera) ã®éŒå°ã‚’æç”»ã—ã¾ã™ã€‚

```js
const cameraHelper = new THREE.CameraHelper(camera);

...

scene.add(cameraHelper);
```

view1ã¨view2ã®DOMè¦ç´ ã‚’querySelectorã—ã¾ã—ã‚‡ã†ã€‚

```js
const view1Elem = document.querySelector("#view1");
const view2Elem = document.querySelector("#view2");
```

æ—¢å­˜ã® [`OrbitControls`](/examples/controls/OrbitControls) ã‚’view1ã«ã®ã¿åå¿œã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```js
-const controls = new OrbitControls(camera, canvas);
+const controls = new OrbitControls(camera, view1Elem);
```

2ã¤ç›®ã® [`PerspectiveCamera`](/api/ja/cameras/PerspectiveCamera) ã¨ [`OrbitControls`](/examples/controls/OrbitControls) ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
2ã¤ç›®ã® [`OrbitControls`](/examples/controls/OrbitControls) ã¯2ã¤ç›®ã®ã‚«ãƒ¡ãƒ©ã«é–¢é€£ä»˜ã‘ã—ã€view2ã‹ã‚‰å…¥åŠ›ã‚’å–å¾—ã—ã¾ã™ã€‚

```js
const camera2 = new THREE.PerspectiveCamera(
  60, // fov
  2, // aspect
  0.1, // near
  500, // far
);
camera2.position.set(40, 10, 30);
camera2.lookAt(0, 5, 0);

const controls2 = new OrbitControls(camera2, view2Elem);
controls2.target.set(0, 5, 0);
controls2.update();
```

æœ€å¾Œã«ã‚­ãƒ£ãƒ³ãƒã‚¹ã®ä¸€éƒ¨ã ã‘ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã«ã€ã‚·ã‚¶ãƒ¼æ©Ÿèƒ½ã‚’ä½¿ã„å„ã‚«ãƒ¡ãƒ©ã®è¦–ç‚¹ã‹ã‚‰ã‚·ãƒ¼ãƒ³ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¾ã™ã€‚

ã“ã“ã«DOMè¦ç´ ã‚’æ¸¡ã™ã¨ã€ã‚­ãƒ£ãƒ³ãƒã‚¹ã«é‡ãªã‚‹çŸ©å½¢ã‚’è¨ˆç®—ã™ã‚‹é–¢æ•°ãŒã‚ã‚Šã¾ã™ã€‚
ãã®çŸ©å½¢ã«ã‚·ã‚¶ãƒ¼ã¨ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã‚’è¨­å®šã—ã€ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’è¿”ã—ã¾ã™ã€‚

```js
function setScissorForElement(elem) {
  const canvasRect = canvas.getBoundingClientRect();
  const elemRect = elem.getBoundingClientRect();

  // compute a canvas relative rectangle
  const right = Math.min(elemRect.right, canvasRect.right) - canvasRect.left;
  const left = Math.max(0, elemRect.left - canvasRect.left);
  const bottom = Math.min(elemRect.bottom, canvasRect.bottom) - canvasRect.top;
  const top = Math.max(0, elemRect.top - canvasRect.top);

  const width = Math.min(canvasRect.width, right - left);
  const height = Math.min(canvasRect.height, bottom - top);

  // setup the scissor to only render to that part of the canvas
  const positiveYUpBottom = canvasRect.height - bottom;
  renderer.setScissor(left, positiveYUpBottom, width, height);
  renderer.setViewport(left, positiveYUpBottom, width, height);

  // return the aspect
  return width / height;
}
```

ã“ã®é–¢æ•°ã‚’ä½¿ã£ã¦ `render` é–¢æ•°ã§ã‚·ãƒ¼ãƒ³ã‚’2å›æç”»ã§ãã¾ã™ã€‚

```js
function render() {

-    if (resizeRendererToDisplaySize(renderer)) {
-      const canvas = renderer.domElement;
-      camera.aspect = canvas.clientWidth / canvas.clientHeight;
-      camera.updateProjectionMatrix();
-    }

+    resizeRendererToDisplaySize(renderer);
+
+    // turn on the scissor
+    renderer.setScissorTest(true);
+
+    // render the original view
+    {
+      const aspect = setScissorForElement(view1Elem);
+
+      // adjust the camera for this aspect
+      camera.aspect = aspect;
+      camera.updateProjectionMatrix();
+      cameraHelper.update();
+
+      // don't draw the camera helper in the original view
+      cameraHelper.visible = false;
+
+      scene.background.set(0x000000);
+
+      // render
+      renderer.render(scene, camera);
+    }
+
+    // render from the 2nd camera
+    {
+      const aspect = setScissorForElement(view2Elem);
+
+      // adjust the camera for this aspect
+      camera2.aspect = aspect;
+      camera2.updateProjectionMatrix();
+
+      // draw the camera helper in the 2nd view
+      cameraHelper.visible = true;
+
+      scene.background.set(0x000040);
+
+      renderer.render(scene, camera2);
+    }

-    renderer.render(scene, camera);

requestAnimationFrame(render);
}

requestAnimationFrame(render);
}
```

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯view1ã¨view2ã‚’åŒºåˆ¥ã™ã‚‹ãŸã‚ã«ã€view2ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã®ã‚·ãƒ¼ãƒ³ã®èƒŒæ™¯è‰²ã‚’ç´ºè‰²ã«ã—ã¦ã„ã¾ã™ã€‚

ã¾ãŸã€`render` é–¢æ•°å†…ã§å…¨ã¦æ›´æ–°ã—ã¦ã„ã‚‹ãŸã‚ã€`updateCamera` ã®ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã§ãã¾ã™ã€‚

```js
-function updateCamera() {
-  camera.updateProjectionMatrix();
-}

const gui = new GUI();
-gui.add(camera, 'fov', 1, 180).onChange(updateCamera);
+gui.add(camera, 'fov', 1, 180);
const minMaxGUIHelper = new MinMaxGUIHelper(camera, 'near', 'far', 0.1);
-gui.add(minMaxGUIHelper, 'min', 0.1, 50, 0.1).name('near').onChange(updateCamera);
-gui.add(minMaxGUIHelper, 'max', 0.1, 50, 0.1).name('far').onChange(updateCamera);
+gui.add(minMaxGUIHelper, 'min', 0.1, 50, 0.1).name('near');
+gui.add(minMaxGUIHelper, 'max', 0.1, 50, 0.1).name('far');
```

ç‰‡æ–¹ã®viewã‚’ä½¿ã„ã€ã‚‚ã†ç‰‡æ–¹ã®éŒå°ã‚’è¦‹ã‚‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

<iframe src="/editor?url=/manual/examples/cameras-perspective-2-scenes.html"></iframe>

å·¦å´ã¯ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ãƒ“ãƒ¥ãƒ¼ã€å³å´ã¯ã‚«ãƒ¡ãƒ©ã®éŒå°ã‚’è¡¨ç¤ºã™ã‚‹ãƒ“ãƒ¥ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚
ãƒã‚¦ã‚¹ã§ `near`ã€`far`ã€`fov` ã‚’èª¿æ•´ã—ã¦ã‚«ãƒ¡ãƒ©ã‚’å‹•ã‹ã™ã¨ã€å³å´ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹éŒå°ã®å†…å´ã ã‘ãŒå·¦å´ã®ã‚·ãƒ¼ãƒ³ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚

`near` ã‚’20ãã‚‰ã„ã«èª¿æ•´ã™ã‚‹ã¨ã€éŒå°ã«å…¥ã‚‰ãšã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ­£é¢ãŒæ¶ˆãˆã¾ã™ã€‚
`far` ã‚’35ä»¥ä¸‹ã«èª¿æ•´ã™ã‚‹ã¨ã€éŒå°ã«å…¥ã‚‰ãšåœ°ä¸Šã®å¹³é¢ãŒæ¶ˆãˆã¦ã„ãã¾ã™ã€‚

ã“ã“ã§ç–‘å•ãŒæ¹§ã„ã¦ãã¾ã—ãŸã€‚
`near` ã‚’0.0000000001ã« `far` ã‚’10000000000000ã«è¨­å®šã—ã€å…¨ã¦ã‚’è¦‹ãˆã‚‹ã‚ˆã†ã«ã§ããªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ
ãªãœãªã‚‰ã€GPUã¯ä½•ã‹ãŒå‰å¾Œã«ã‚ã‚‹ã‹ã‚’åˆ¤æ–­ã™ã‚‹ç²¾åº¦ãŒé«˜ã„ã‹ã‚‰ã§ã™ã€‚
ãã®ç²¾åº¦ã¯ `near` ã¨ `far` ã®é–“ã«åˆ†æ•£ã—ã¦ã„ã¾ã™ã€‚
ã•ã‚‰ã«æ‚ªã„äº‹ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã‚«ãƒ¡ãƒ©ã®è¿‘ãã®ç²¾åº¦ã¯ç´°ã‹ãã€ã‚«ãƒ¡ãƒ©ã‹ã‚‰é ã„ç²¾åº¦ã¯ç²—ããªã£ã¦ã„ã¾ã™ã€‚
å˜ä½ã®å€¤ã¯ `near` ã‹ã‚‰å§‹ã¾ã‚Šã€`far` ã«è¿‘ã¥ãã«ã¤ã‚Œã¦å¾ã€…ã«æ‹¡å¤§ã—ã¦ã„ãã¾ã™ã€‚

ä¸Šè¨˜ã®ã‚µãƒ³ãƒ—ãƒ«ã‹ã‚‰å§‹ã‚ã¦ã€20å€‹ã®çƒä½“ã‚’1åˆ—ã«æŒ¿å…¥ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã«å¤‰æ›´ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```js
{
  const sphereRadius = 3;
  const sphereWidthDivisions = 32;
  const sphereHeightDivisions = 16;
  const sphereGeo = new THREE.SphereGeometry(
    sphereRadius,
    sphereWidthDivisions,
    sphereHeightDivisions,
  );
  const numSpheres = 20;
  for (let i = 0; i < numSpheres; ++i) {
    const sphereMat = new THREE.MeshPhongMaterial();
    sphereMat.color.setHSL(i * 0.73, 1, 0.5);
    const mesh = new THREE.Mesh(sphereGeo, sphereMat);
    mesh.position.set(
      -sphereRadius - 1,
      sphereRadius + 2,
      i * sphereRadius * -2.2,
    );
    scene.add(mesh);
  }
}
```

`near` ã‚’0.00001ã«è¨­å®šã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```js
const fov = 45;
const aspect = 2;  // the canvas default
-const near = 0.1;
+const near = 0.00001;
const far = 100;
const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
```

å€¤ã®ç·¨é›†æ™‚ã«0.00001ã‚’è¨±å®¹ã™ã‚‹ã‚ˆã†ã«GUIã‚³ãƒ¼ãƒ‰ã‚’å¾®èª¿æ•´ã—ã¾ã™ã€‚

```js
-gui
  .add(minMaxGUIHelper, "min", 0.1, 50, 0.1)
  .name("near")
  .onChange(updateCamera);
+gui
  .add(minMaxGUIHelper, "min", 0.00001, 50, 0.00001)
  .name("near")
  .onChange(updateCamera);
```

ä½•ãŒèµ·ã“ã‚‹ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ

<iframe src="/editor?url=/manual/examples/cameras-z-fighting.html"></iframe>

ã“ã‚Œã¯GPUãŒã©ã®ãƒ”ã‚¯ã‚»ãƒ«ãŒå‰å¾Œã«ã‚ã‚‹ã‹åˆ¤æ–­ã™ã‚‹ç²¾åº¦ãŒä¸è¶³ã—ã¦ã‚‹æ™‚ã« _Zãƒ•ã‚¡ã‚¤ãƒ†ã‚£ãƒ³ã‚°_ ãŒç™ºç”Ÿã™ã‚‹ä¾‹ã§ã™ã€‚

ã‚ãªãŸã®ãƒã‚·ãƒ³ã§ã¯å•é¡ŒãŒè¡¨ç¤ºã•ã‚Œãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€ç§ã®ãƒã‚·ãƒ³ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

<div class="threejs_center">![image](/resources/images/z-fighting.png)</div>

1ã¤ç›®ã®è§£æ±ºç­–ã¯ã©ã®ãƒ”ã‚¯ã‚»ãƒ«ãŒå‰å¾Œã«ã‚ã‚‹ã‹ã‚’è¨ˆç®—ã™ã‚‹ãŸã‚ã«ã€three.jsã®åˆ¥ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
ã“ã‚Œã¯ [`WebGLRenderer`](/api/ja/renderers/WebGLRenderer) ã®ä½œæˆæ™‚ã« `logarithmicDepthBuffer` ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

```js
-const renderer = new THREE.WebGLRenderer({antialias: true, canvas});
+const renderer = new THREE.WebGLRenderer({
+  antialias: true,
+  canvas,
+  logarithmicDepthBuffer: true,
+});
```

ã“ã‚Œã§ä¸Šæ‰‹ãå‹•ãã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

<iframe src="/editor?url=/manual/examples/cameras-logarithmic-depth-buffer.html"></iframe>

ã“ã‚Œã§å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆã€ã“ã®è§£æ±ºç­–ãŒä½¿ãˆãªã„ç†ç”±ã®1ã¤ã«é­é‡ã—ãŸäº‹ã«ãªã‚Šã¾ã™ã€‚
ãã®ç†ç”±ã¯ã€ç‰¹å®šã®GPUã®ã¿ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚
2018å¹´9æœˆç¾åœ¨ã€ã»ã¨ã‚“ã©ã®ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãŒã“ã®è§£æ±ºç­–ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ãŒã€ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã¯ã»ã¨ã‚“ã©ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚

ã“ã®è§£æ±ºç­–ã‚’é¸æŠã—ãªã„ã‚‚ã†1ã¤ã®ç†ç”±ã¯ã€æ¨™æº–çš„ãªè§£æ±ºç­–ã‚ˆã‚Šã‚‚å¤§å¹…ã«é…ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

ã“ã®è§£æ±ºç­–ã¯è§£åƒåº¦ã«åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚
`near` ã‚’ã•ã‚‰ã«å°ã•ãã—ãŸã‚Š `far` ã‚’ã•ã‚‰ã«å¤§ããã—ãŸã‚Šã™ã‚‹ã¨æœ€çµ‚çš„ã«åŒã˜å•é¡Œã«ã¶ã¤ã‹ã‚Šã¾ã™ã€‚

`near` ã¨ `far` ã®è¨­å®šã¯ã€å¸¸ã«ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«åˆã£ãŸå€¤ã‚’é¸æŠã—ã¦ä¸‹ã•ã„ã€‚
`near` ã¯ã‚«ãƒ¡ãƒ©ã‹ã‚‰ã§ãã‚‹ã ã‘é›¢ã‚ŒãŸæ‰€ã«ç½®ãã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæ¶ˆãˆãªã„ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚
`far` ã¯ã‚«ãƒ¡ãƒ©ã‹ã‚‰ã§ãã‚‹ã ã‘è¿‘ã„æ‰€ã«ç½®ãã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæ¶ˆãˆãªã„ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚

ã‚‚ã—ã¾ã¤ã’ã‚’è¦‹ã‚Œã‚‹ãã‚‰ã„èª°ã‹ã®é¡”ã‚’ã‚¯ãƒ­ãƒ¼ã‚ºã‚¢ãƒƒãƒ—ã—ã€èƒŒæ™¯ã«ã¯50ã‚­ãƒ­é›¢ã‚ŒãŸå±±ã¾ã§ã®é“ã®ã‚Šã‚’è¦‹ã‚‹å·¨å¤§ãªã‚·ãƒ¼ãƒ³ã‚’æç”»ã—ãŸã„å ´åˆã€ä»–ã®å‰µé€ çš„ãªè§£æ±ºç­–ã‚’è¦‹ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹ã§ã—ã‚‡ã†ã€‚
ã“ã®è§£æ±ºç­–ã¯å¾Œã«ã—ã¾ã—ã‚‡ã†ã€‚
ã¨ã‚Šã‚ãˆãšè‡ªåˆ†ã®ãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ã¦ `near` ã¨ `far` ã¯é©åˆ‡ãªå€¤ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚

2ç•ªç›®ã«ä¸€èˆ¬çš„ãªã‚«ãƒ¡ãƒ©ã¯ `OrthographicCamera(å¹³è¡ŒæŠ•å½±ã‚«ãƒ¡ãƒ©)` ã§ã™ã€‚
éŒå°ã‚’æŒ‡å®šã™ã‚‹ã®ã§ã¯ãªãã€`left`ã€`right`ã€`top`ã€`bottom`ã€`near`ã€`far` ã®è¨­å®šã§ãƒœãƒƒã‚¯ã‚¹ã‚’æŒ‡å®šã—ã¾ã™ã€‚
ãƒœãƒƒã‚¯ã‚¹ã‚’æŠ•å½±ã—ã¦ã„ã‚‹ã®ã§é è¿‘æ„Ÿã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ä¸Šè¨˜ã®view1ã¨view2ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’å¤‰æ›´ã—ã€æœ€åˆã®ãƒ“ãƒ¥ãƒ¼ã§ [`OrthographicCamera`](/api/ja/cameras/OrthographicCamera) ã‚’ä½¿ã†ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚

æœ€åˆã« [`OrthographicCamera`](/api/ja/cameras/OrthographicCamera) ã‚’è¨­å®šã—ã¾ã™ã€‚

```js
const left = -1;
const right = 1;
const top = 1;
const bottom = -1;
const near = 5;
const far = 50;
const camera = new THREE.OrthographicCamera(
  left,
  right,
  top,
  bottom,
  near,
  far,
);
camera.zoom = 0.2;
```

`left` ã¨ `bottom` ã‚’-1ã€`right` ã¨ `top` ã‚’1ã«ã—ã¾ã—ãŸã€‚
ã“ã‚Œã§ç®±ã®å¹…ãŒ2ã€é«˜ã•ãŒ2ã«ãªã‚Šã¾ã™ãŒã€æç”»ã—ã¦ã„ã‚‹çŸ©å½¢ã®ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã§ `left` ã¨ `top` ã‚’èª¿æ•´ã—ã¾ã™ã€‚
`zoom` ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã‚«ãƒ¡ãƒ©ã§å®Ÿéš›ã«è¡¨ç¤ºã•ã‚Œã‚‹å€¤ã‚’ç°¡å˜ã«èª¿æ•´ã§ãã¾ã™ã€‚

GUIã« `zoom` ã®è¨­å®šã‚’è¿½åŠ ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```js
const gui = new GUI();
+gui.add(camera, "zoom", 0.01, 1, 0.01).listen();
```

`listen` å‘¼ã³å‡ºã—ã¯lil-guiã«å¤‰æ›´ã‚’ç›£è¦–ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
ã“ã‚Œã¯ [`OrbitControls`](/examples/controls/OrbitControls) ãŒã‚ºãƒ¼ãƒ ã‚‚åˆ¶å¾¡ã§ãã‚‹ã‹ã‚‰ã§ã™ã€‚
ä¾‹ãˆã°ãƒã‚¦ã‚¹ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ›ã‚¤ãƒ¼ãƒ«ã¯ [`OrbitControls`](/examples/controls/OrbitControls) ã§ã‚ºãƒ¼ãƒ ã—ã¾ã™ã€‚

æœ€å¾Œã«å·¦å´ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹éƒ¨åˆ†ã‚’å¤‰æ›´ã—ã¦ [`OrthographicCamera`](/api/ja/cameras/OrthographicCamera) ã‚’æ›´æ–°ã—ã¾ã™ã€‚

```js
{
const aspect = setScissorForElement(view1Elem);

// update the camera for this aspect
-  camera.aspect = aspect;
+  camera.left   = -aspect;
+  camera.right  =  aspect;
camera.updateProjectionMatrix();
cameraHelper.update();

// don't draw the camera helper in the original view
cameraHelper.visible = false;

scene.background.set(0x000000);
renderer.render(scene, camera);
}
```

ã“ã‚Œã§ [`OrthographicCamera`](/api/ja/cameras/OrthographicCamera) ãŒå‹•ä½œã—ã¦ã„ã‚‹ã®ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

<iframe src="/editor?url=/manual/examples/cameras-orthographic-2-scenes.html"></iframe>

three.jsã§2æ¬¡å…ƒã®ã‚‚ã®ã‚’æç”»ã™ã‚‹å ´åˆã«ã¯ã€[`OrthographicCamera`](/api/ja/cameras/OrthographicCamera) ãŒæœ€ã‚‚ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚
ã‚«ãƒ¡ãƒ©ã®è¡¨ç¤ºå°æ•°ã‚’æ±ºã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ã€1ãƒ”ã‚¯ã‚»ãƒ«ã®ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚«ãƒ¡ãƒ©ã®1å˜ä½ã¨ä¸€è‡´ã•ã›ãŸã„å ´åˆã€æ¬¡ã®ã‚ˆã†ãªäº‹ãŒã§ãã¾ã™ã€‚

åŸç‚¹ã‚’ä¸­å¿ƒã«ç½®ãã€1ãƒ”ã‚¯ã‚»ãƒ« = three.jsã®1å˜ä½ã¨ã™ã‚‹ã«ã¯æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚

```js
camera.left = -canvas.width / 2;
camera.right = canvas.width / 2;
camera.top = canvas.height / 2;
camera.bottom = -canvas.height / 2;
camera.near = -1;
camera.far = 1;
camera.zoom = 1;
```

åŸç‚¹ã‚’2Dã‚­ãƒ£ãƒ³ãƒã‚¹ã®ã‚ˆã†ã«å·¦ä¸Šã«é…ç½®ã—ãŸã„å ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚

```js
camera.left = 0;
camera.right = canvas.width;
camera.top = 0;
camera.bottom = canvas.height;
camera.near = -1;
camera.far = 1;
camera.zoom = 1;
```

ã“ã®å ´åˆã€å·¦ä¸Šã®è§’ã¯2Dã‚­ãƒ£ãƒ³ãƒã‚¹ã®ã‚ˆã†ã«0, 0ã«ãªã‚Šã¾ã™ã€‚

ã‚„ã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼ã¾ãšã¯ã‚«ãƒ¡ãƒ©ã®è¨­å®šã‚’ã—ã¾ã™ã€‚

```js
const left = 0;
const right = 300; // default canvas size
const top = 0;
const bottom = 150; // default canvas size
const near = -1;
const far = 1;
const camera = new THREE.OrthographicCamera(
  left,
  right,
  top,
  bottom,
  near,
  far,
);
camera.zoom = 1;
```

ç¶šã„ã¦ã€6æšã®ãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã€6æšã®å¹³é¢ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
å„å¹³é¢ã¯ [`THREE.Object3D`](/api/ja/core/Object3D) ã‚’è¦ªã«ã—ã€å¹³é¢ã®ä¸­å¿ƒã‚’å·¦ä¸Šã«ã—ã¦ç°¡å˜ã«ã‚ªãƒ•ã‚»ãƒƒãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

```js
const loader = new THREE.TextureLoader();
const textures = [
  loader.load("resources/images/flower-1.jpg"),
  loader.load("resources/images/flower-2.jpg"),
  loader.load("resources/images/flower-3.jpg"),
  loader.load("resources/images/flower-4.jpg"),
  loader.load("resources/images/flower-5.jpg"),
  loader.load("resources/images/flower-6.jpg"),
];
const planeSize = 256;
const planeGeo = new THREE.PlaneGeometry(planeSize, planeSize);
const planes = textures.map((texture) => {
  const planePivot = new THREE.Object3D();
  scene.add(planePivot);
  texture.magFilter = THREE.NearestFilter;
  const planeMat = new THREE.MeshBasicMaterial({
    map: texture,
    side: THREE.DoubleSide,
  });
  const mesh = new THREE.Mesh(planeGeo, planeMat);
  planePivot.add(mesh);
  // move plane so top left corner is origin
  mesh.position.set(planeSize / 2, planeSize / 2, 0);
  return planePivot;
});
```

ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚µã‚¤ã‚ºã®å¤‰æ›´æ™‚ã€ã‚«ãƒ¡ãƒ©ã‚’æ›´æ–°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```js
function render() {

if (resizeRendererToDisplaySize(renderer)) {
camera.right = canvas.width;
camera.bottom = canvas.height;
camera.updateProjectionMatrix();
}

...
```

`planes` ã¯ [`THREE.Mesh`](/api/ja/objects/Mesh) ã®é…åˆ—ã§ã‚ã‚Šã€å„å¹³é¢ã«1ã¤ãšã¤ã‚ã‚Šã¾ã™ã€‚
ã“ã‚Œã‚‰ã‚’æ™‚é–“ã«å¿œã˜ã¦ç§»å‹•ã•ã›ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```js
function render(time) {
time *= 0.001;  // convert to seconds;

...

const distAcross = Math.max(20, canvas.width - planeSize);
const distDown = Math.max(20, canvas.height - planeSize);

// total distance to move across and back
const xRange = distAcross * 2;
const yRange = distDown * 2;
const speed = 180;

planes.forEach((plane, ndx) => {
// compute a unique time for each plane
const t = time * speed + ndx * 300;

// get a value between 0 and range
const xt = t % xRange;
const yt = t % yRange;

// set our position going forward if 0 to half of range
// and backward if half of range to range
const x = xt < distAcross ? xt : xRange - xt;
const y = yt < distDown   ? yt : yRange - yt;

plane.position.set(x, y, 0);
});

renderer.render(scene, camera);
```

2Dã‚­ãƒ£ãƒ³ãƒã‚¹ã®ã‚ˆã†ã«ãƒ”ã‚¯ã‚»ãƒ«è¨ˆç®—ã‚’ä½¿ã„ã€ç”»åƒãŒã‚­ãƒ£ãƒ³ãƒã‚¹ã®ç¸ã‹ã‚‰ãƒ”ã‚¯ã‚»ãƒ«ã®ã‚ˆã†ã«è·³ã­è¿”ã£ã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚

<iframe src="/editor?url=/manual/examples/cameras-orthographic-canvas-top-left-origin.html"></iframe>

[`OrthographicCamera`](/api/ja/cameras/OrthographicCamera) ã®ã‚‚ã†1ã¤ã®ä¸€èˆ¬çš„ãªç”¨é€”ã¯3Dãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ã‚„ã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³ã§ã€ä¸Šã€ä¸‹ã€å·¦ã€å³ã€æ­£é¢ã€èƒŒé¢ã®ãƒ“ãƒ¥ãƒ¼ã‚’æç”»ã™ã‚‹å ´åˆã§ã™ã€‚

<div class="threejs_center">![image](/resources/images/quad-viewport.png)</div>

ä¸Šè¨˜ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã§ã¯å³ä¸Šã®ãƒ“ãƒ¥ãƒ¼ãŒé€è¦–æŠ•å½±å›³ã€å·¦ä¸Šã®ãƒ“ãƒ¥ãƒ¼ãŒå¹³è¡ŒæŠ•å½±å›³ã§ã™ã€‚

ãã‚ŒãŒã‚«ãƒ¡ãƒ©ã®åŸºæœ¬ã§ã™ã€‚
ã‚«ãƒ¡ãƒ©ã‚’å‹•ã‹ã™ãŸã‚ã®ä¸€èˆ¬çš„ãªæ–¹æ³•ã¯åˆ¥ã®è¨˜äº‹ã§ç´¹ä»‹ã—ã¾ã™ã€‚
ã¨ã‚Šã‚ãˆãš[å½±](shadows.html)ã«ã¤ã„ã¦ã®ãƒšãƒ¼ã‚¸ã«ç§»ã‚Šã¾ã—ã‚‡ã†ã€‚

<canvas id="c"></canvas>

<span>Script:src="../resources/threejs-cameras.js"</span>
